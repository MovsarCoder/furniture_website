{% extends 'base/base.html' %}
{% load i18n %}

{% block title %}{{ work.title }} - B'Mass{% endblock %}

{% block content %}

<section class="section">
    <div class="container">
        <!-- Breadcrumb Navigation -->
        <nav class="breadcrumb" aria-label="breadcrumb">
            <a href="{% url 'client_service:index' %}" class="breadcrumb-link">ğŸ  {% trans 'Home' %}</a>
            <span class="breadcrumb-separator">â€º</span>
            <a href="{% url 'client_service:portfolio' %}" class="breadcrumb-link">ğŸ’¼ {% trans 'Portfolio' %}</a>
            <span class="breadcrumb-separator">â€º</span>
            <span class="breadcrumb-current">{{ work.title }}</span>
        </nav>

        <div class="work-detail">
            <div class="work-media">
                <div class="image-container">
                    <img src="{{ work.image.url }}" alt="{{ work.title }}" class="work-image{% if work.show_full_image %} full-view{% endif %}" loading="lazy">
                    <div class="image-overlay">
                        <button class="image-zoom-btn" aria-label="{% trans 'Zoom image' %}">ğŸ”</button>
                    </div>
                </div>

                <!-- Work Badges -->
                <div class="work-badges">
                    <div class="work-badge status">
                        <span class="badge-icon">ğŸ“Š</span>
                        <span>{{ work.get_status_display }}</span>
                    </div>
                    {% if work.work_type %}
                    <div class="work-badge">
                        <span class="badge-icon">ğŸ·ï¸</span>
                        <span>{{ work.get_work_type_display }}</span>
                    </div>
                    {% endif %}
                    {% if work.material %}
                    <div class="work-badge material">
                        <span class="badge-icon">ğŸªµ</span>
                        <span>{{ work.material }}</span>
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="work-info">
                <!-- Header with Title and Price -->
                <div class="work-header">
                    <h1 class="work-title">{{ work.title }}</h1>
                    <div class="work-meta-header">
                        <span class="meta-item">ğŸ“… {{ work.date|date:"d.m.Y" }}</span>
                        {% if work.country %}<span class="meta-item">ğŸŒ {{ work.get_country_display }}</span>{% endif %}
                        <span class="meta-item">ğŸŒ {{ work.get_language_display }}</span>
                        {% if work.category %} <span class="meta-item">ğŸ·ï¸ {{ work.category }}</span>{% endif %}
                    </div>
                </div>

                <!-- Price Block -->
                <div class="price-block">
                    {% if work.price %}
                    <div class="price-main">
                        <span class="price-currency">ğŸ’°</span>
                        <span class="price-value">{{ work.price }}</span>
                        <span class="price-unit">{{ work.currency|upper }}</span>
                    </div>
                    <div class="price-note">{% trans 'Final cost is calculated individually' %}</div>
                    {% else %}
                    <div class="price-main">
                        <span class="price-value request">{% trans 'By request' %}</span>
                    </div>
                    <div class="price-note">{% trans 'The final cost is calculated individually after consultation' %}</div>
                    {% endif %}
                </div>

                <!-- Description -->
                {% if work.description %}
                <div class="work-description">
                    <h3>ğŸ“ {% trans 'Description' %}</h3>
                    <p>{{ work.description }}</p>
                </div>
                {% endif %}

                <!-- Specifications -->
                {% if work.width or work.height or work.depth %}
                <div class="specifications">
                    <h3>ğŸ“ {% trans 'Dimensions' %}</h3>
                    <div class="specs-grid">
                        {% if work.width and work.height and work.depth %}
                        <div class="spec-item">
                            <div class="spec-label"></div>
                            <div class="spec-value">{% trans 'Width (cm)'|slice:":5" %} {{ work.width|stringformat:"d" }} (ÑĞ¼)</div>
                            <div class="spec-value">{% trans 'Height (cm)'|slice:":6" %} {{ work.height }} (ÑĞ¼)</div>
                            <div class="spec-value">{% trans 'Depth (cm)'|slice:":5" %} {{ work.depth }} (ÑĞ¼)</div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- Features Grid -->
                <div class="work-features">
                    <h3>âœ¨ {% trans 'Features' %}</h3>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">ğŸšš</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Fast delivery' %}</div>
                                <div class="feature-desc">{% trans 'From 2 to 4 weeks throughout the country' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ›¡ï¸</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Quality guarantee' %}</div>
                                <div class="feature-desc">{% trans 'Official 2-year warranty' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ’³</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Convenient payment' %}</div>
                                <div class="feature-desc">{% trans 'Cash or card upon receipt' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ğŸ¤</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Professional assembly' %}</div>
                                <div class="feature-desc">{% trans 'Experienced masters with years of experience' %}</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn-primary" onclick="openConsultationModal()">
                        <span>ğŸ“© {% trans 'Order consultation' %}</span>
                    </button>
                    <a href="{% url 'client_service:portfolio' %}" class="btn-secondary">
                        <span>â† {% trans 'Back to all works' %}</span>
                    </a>
                </div>

                <!-- Timeline/Process -->
                <div class="work-timeline">
                    <h3>ğŸ“ˆ {% trans 'Creation process' %}</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-icon">ğŸ“</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Consultation' %}</div>
                                <div class="timeline-desc">{% trans 'We discuss your wishes and take measurements' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">ğŸ¨</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Design' %}</div>
                                <div class="timeline-desc">{% trans 'We create 3D visualization and drawings' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">ğŸ”¨</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Production' %}</div>
                                <div class="timeline-desc">{% trans 'We manufacture furniture on modern equipment' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">ğŸšš</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Delivery and assembly' %}</div>
                                <div class="timeline-desc">{% trans 'We carefully deliver and assemble on site' %}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}