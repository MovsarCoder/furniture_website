{% extends 'base/base.html' %}
{% load i18n %}

{% block title %}{{ work.title }} - B'Mass{% endblock %}

{% block content %}

<section class="section">
    <div class="container">
        <!-- Breadcrumb Navigation -->
        <nav class="breadcrumb" aria-label="breadcrumb">
            <a href="{% url 'client_service:index' %}" class="breadcrumb-link">🏠 {% trans 'Home' %}</a>
            <span class="breadcrumb-separator">›</span>
            <a href="{% url 'client_service:portfolio' %}" class="breadcrumb-link">💼 {% trans 'Portfolio' %}</a>
            <span class="breadcrumb-separator">›</span>
            <span class="breadcrumb-current">{{ work.title }}</span>
        </nav>

        <div class="work-detail">
            <div class="work-media">
                <div class="image-container">
                    <img src="{{ work.image.url }}" alt="{{ work.title }}" class="work-image" loading="lazy">
                    <div class="image-overlay">
                        <button class="image-zoom-btn" aria-label="{% trans 'Zoom image' %}">🔍</button>
                    </div>
                </div>

                <!-- Work Badges -->
                <div class="work-badges">
                    <div class="work-badge status">
                        <span class="badge-icon">📊</span>
                        <span>{{ work.get_status_display }}</span>
                    </div>
                    {% if work.work_type %}
                    <div class="work-badge">
                        <span class="badge-icon">🏷️</span>
                        <span>{{ work.get_work_type_display }}</span>
                    </div>
                    {% endif %}
                    {% if work.material %}
                    <div class="work-badge material">
                        <span class="badge-icon">🪵</span>
                        <span>{{ work.material }}</span>
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="work-info">
                <!-- Header with Title and Price -->
                <div class="work-header">
                    <h1 class="work-title">{{ work.title }}</h1>
                    <div class="work-meta-header">
                        <span class="meta-item">📅 {{ work.date|date:"d.m.Y" }}</span>
                        {% if work.country %}<span class="meta-item">🌍 {{ work.get_country_display }}</span>{% endif %}
                        <span class="meta-item">🌐 {{ work.get_language_display }}</span>
                    </div>
                </div>

                <!-- Price Block -->
                <div class="price-block">
                    <div class="price-main">
                        <span class="price-currency">💰</span>
                        <span class="price-value">{{ work.price }}</span>
                        <span class="price-unit">{{ work.currency|upper }}</span>
                    </div>
                    <div class="price-note">{% trans 'Final cost is calculated individually' %}</div>
                </div>

                <!-- Description -->
                {% if work.description %}
                <div class="work-description">
                    <h3>📝 {% trans 'Description' %}</h3>
                    <p>{{ work.description }}</p>
                </div>
                {% endif %}

                <!-- Specifications -->
                {% if work.width or work.height or work.depth %}
                <div class="specifications">
                    <h3>📏 {% trans 'Dimensions' %}</h3>
                    <div class="specs-grid">
                        {% if work.width %}
                        <div class="spec-item">
                            <div class="spec-value">{{ work.width }}</div>
                            <div class="spec-label">{% trans 'Width (cm)' %}</div>
                        </div>
                        {% endif %}
                        {% if work.height %}
                        <div class="spec-item">
                            <div class="spec-value">{{ work.height }}</div>
                            <div class="spec-label">{% trans 'Height (cm)' %}</div>
                        </div>
                        {% endif %}
                        {% if work.depth %}
                        <div class="spec-item">
                            <div class="spec-value">{{ work.depth }}</div>
                            <div class="spec-label">{% trans 'Depth (cm)' %}</div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}

                <!-- Features Grid -->
                <div class="work-features">
                    <h3>✨ {% trans 'Features' %}</h3>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">🚚</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Fast delivery' %}</div>
                                <div class="feature-desc">{% trans 'From 2 to 4 weeks throughout the country' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🛡️</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Quality guarantee' %}</div>
                                <div class="feature-desc">{% trans 'Official 2-year warranty' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">💳</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Convenient payment' %}</div>
                                <div class="feature-desc">{% trans 'Cash or card upon receipt' %}</div>
                            </div>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">🤝</div>
                            <div class="feature-content">
                                <div class="feature-title">{% trans 'Professional assembly' %}</div>
                                <div class="feature-desc">{% trans 'Experienced masters with years of experience' %}</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn-primary" onclick="openConsultationModal()">
                        <span>📩 {% trans 'Order consultation' %}</span>
                    </button>
                    <a href="{% url 'client_service:portfolio' %}" class="btn-secondary">
                        <span>← {% trans 'Back to all works' %}</span>
                    </a>
                </div>

                <!-- Timeline/Process -->
                <div class="work-timeline">
                    <h3>📈 {% trans 'Creation process' %}</h3>
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-icon">📝</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Consultation' %}</div>
                                <div class="timeline-desc">{% trans 'We discuss your wishes and take measurements' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">🎨</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Design' %}</div>
                                <div class="timeline-desc">{% trans 'We create 3D visualization and drawings' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">🔨</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Production' %}</div>
                                <div class="timeline-desc">{% trans 'We manufacture furniture on modern equipment' %}</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="timeline-icon">🚚</div>
                            <div class="timeline-content">
                                <div class="timeline-title">{% trans 'Delivery and assembly' %}</div>
                                <div class="timeline-desc">{% trans 'We carefully deliver and assemble on site' %}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}